(()=>{"use strict";window.wp.data;const e=window.ReactJSXRuntime,a={xxl:{columns:6,gutter:1},xl:{columns:5,gutter:1},lg:{columns:4,gutter:1},md:{columns:3,gutter:1},sm:{columns:2,gutter:1},xs:{columns:2,gutter:1}},{registerBlockType:l}=wp.blocks,{InspectorControls:t,MediaPlaceholder:n,MediaUpload:i}=wp.blockEditor,{PanelBody:o,ToggleControl:s,SelectControl:r,RadioControl:d,RangeControl:m,TextControl:u,Button:g,Modal:c,Flex:b,FlexItem:p,ResponsiveWrapper:x}=wp.components,{__}=wp.i18n,{useEffect:h,useState:v,Fragment:f}=wp.element;l("hupa/theme-gallery",{title:"Theme Galerie",icon:"images-alt2",category:"theme-v3-medien",description:"Ein benutzerdefinierte Galerie mit Grid und Masonry-Grid.",attributes:{images:{type:"array",default:[]},imageSize:{type:"string",default:"large"},imageWidth:{type:"number",default:260},imageHeight:{type:"number",default:160},galleryType:{type:"string",default:"gallery"},imageCrop:{type:"boolean",default:!0},lazyLoad:{type:"boolean",default:!0},lazyLoadAnimation:{type:"boolean",default:!1},repeatAnimation:{type:"boolean",default:!1},animationType:{type:"string",default:""},galleryId:{type:"string",default:""},enableLightbox:{type:"boolean",default:!1},ausgabeOption:{type:"string",default:""},enableTitle:{type:"boolean",default:!0},clickAction:{type:"string",default:""},imgLink:{type:"string",default:""},lightboxSingle:{type:"boolean",default:!1},breakpoints:{type:"object",default:{xxl:{columns:6,gutter:1},xl:{columns:5,gutter:1},lg:{columns:4,gutter:1},md:{columns:3,gutter:1},sm:{columns:2,gutter:1},xs:{columns:2,gutter:1}}}},edit({attributes:l,setAttributes:x}){const{images:y,galleryId:j,galleryType:I,repeatAnimation:k,imageSize:N,imageCrop:_,lazyLoad:B,imageWidth:w,ausgabeOption:C,enableTitle:S,imageHeight:L,lazyLoadAnimation:M,lightboxSingle:T,animationType:H,clickAction:R,breakpoints:z}=l;if(!j){const e=`gallery-${Math.random().toString(36).slice(2,9)}`;x({galleryId:e})}const[U,A]=v(!1),G=(e,a,t)=>{const n={...l.breakpoints};n[t]={...n[t],[a]:parseInt(e)},x({breakpoints:n})};h((()=>{y.length>0&&document.querySelectorAll(".sortable-list").forEach((e=>{jQuery(e).sortable({update:(a,l)=>{const t=jQuery(e).sortable("toArray",{attribute:"data-id"}).map((e=>parseInt(e,10))).map((e=>y.find((a=>a.id===e))));x({images:t})}})}))}),[y]),h((()=>{z&&0!==Object.keys(z).length||x({breakpoints:a})}),[z,x]);const[D,$]=v({imageUrl:"",openTab:!1,editId:null}),O=(e,a)=>{const l={...D};l[a]=e,$(l)};return(0,e.jsxs)(f,{children:[(0,e.jsx)(t,{children:(0,e.jsxs)("div",{className:"gallery-sidebar",children:[(0,e.jsxs)(o,{title:__("Galerie Settings","text-domain"),children:[(0,e.jsx)(r,{label:"Galerie Typ",__nextHasNoMarginBottom:!0,value:I,options:[{label:"Galerie Grid",value:"gallery"},{label:"Masonry Grid",value:"masonry"}],onChange:e=>x({galleryType:e})}),(0,e.jsx)(r,{label:"Image Size",__nextHasNoMarginBottom:!0,value:N,options:[{label:"Thumbnail",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full",value:"full"}],onChange:e=>x({imageSize:e})}),(0,e.jsx)(s,{label:"Image Crop",__nextHasNoMarginBottom:!0,checked:_,onChange:e=>x({imageCrop:e})}),(0,e.jsx)(s,{label:"Lazy load animation",__nextHasNoMarginBottom:!0,checked:M,onChange:e=>x({lazyLoadAnimation:e})}),(0,e.jsx)(s,{label:"Animation wiederholen",__nextHasNoMarginBottom:!0,disabled:!M,checked:k,onChange:e=>x({repeatAnimation:e})}),(0,e.jsx)(d,{label:__("Ausgabe Option","text-domain"),selected:C,__nextHasNoMarginBottom:!0,options:[{label:__("keine Aktion","text-domain"),value:""},{label:__("Caption anzeigen","text-domain"),value:"caption"}],onChange:e=>x({ausgabeOption:e})}),(0,e.jsx)(s,{label:"Titel anzeigen",__nextHasNoMarginBottom:!0,checked:S,onChange:e=>x({enableTitle:e})}),(0,e.jsx)(m,{label:"Image Height (px)",__nextHasNoMarginBottom:!0,value:L,disabled:!_&&"gallery"!==I,onChange:e=>x({imageHeight:e}),min:50,max:500,step:10}),(0,e.jsx)("p",{className:`fw-normal panel-headline animate__animated animate__${H}`,children:__("Animate options","bootscore")}),(0,e.jsx)(r,{label:__("Select animation","bootscore"),value:H,disabled:!M,__nextHasNoMarginBottom:!0,options:[{label:__("select","bootscore")+"...",value:""},{label:"bounce",value:"bounce"},{label:"flash",value:"flash"},{label:"pulse",value:"pulse"},{label:"rubberBand",value:"rubberBand"},{label:"shakeX",value:"shakeX"},{label:"headShake",value:"headShake"},{label:"swing",value:"swing"},{label:"tada",value:"tada"},{label:"wobble",value:"wobble"},{label:"jello",value:"jello"},{label:"heartBeat",value:"heartBeat"},{label:"---- BackIn",value:"",className:"SelectSeparator",disabled:!0},{label:"backInDown",value:"backInDown"},{label:"backInLeft",value:"backInLeft"},{label:"backInRight",value:"backInRight"},{label:"backInUp",value:"backInUp"},{label:"---- Bounce",value:"",className:"SelectSeparator",disabled:!0},{label:"bounceIn",value:"bounceIn"},{label:"bounceInDown",value:"bounceInDown"},{label:"bounceInLeft",value:"bounceInLeft"},{label:"bounceInRight",value:"bounceInRight"},{label:"bounceInUp",value:"bounceInUp"},{label:"---- Fade",value:"",className:"SelectSeparator",disabled:!0},{label:"fadeIn",value:"fadeIn"},{label:"fadeInDown",value:"fadeInDown"},{label:"fadeInDownBig",value:"fadeInDownBig"},{label:"fadeInLeft",value:"fadeInLeft"},{label:"fadeInLeftBig",value:"fadeInLeftBig"},{label:"fadeInRight",value:"fadeInRight"},{label:"fadeInRightBig",value:"fadeInRightBig"},{label:"fadeInUp",value:"fadeInUp"},{label:"fadeInUpBig",value:"fadeInUpBig"},{label:"fadeInTopLeft",value:"fadeInTopLeft"},{label:"fadeInTopRight",value:"fadeInTopRight"},{label:"fadeInBottomLeft",value:"fadeInBottomLeft"},{label:"fadeInBottomRight",value:"fadeInBottomRight"},{label:"---- Flip",value:"",className:"SelectSeparator",disabled:!0},{label:"flip",value:"flip"},{label:"flipInX",value:"flipInX"},{label:"flipInY",value:"flipInY"},{label:"flipOutX",value:"flipOutX"},{label:"flipOutY",value:"flipOutY"},{label:"---- Light Speed",value:"",className:"SelectSeparator",disabled:!0},{label:"lightSpeedInRight",value:"lightSpeedInRight"},{label:"lightSpeedInLeft",value:"lightSpeedInLeft"},{label:"lightSpeedOutRight",value:"lightSpeedOutRight"},{label:"lightSpeedOutLeft",value:"lightSpeedOutLeft"},{label:"---- Rotate",value:"",className:"SelectSeparator",disabled:!0},{label:"rotateIn",value:"rotateIn"},{label:"rotateInDownLeft",value:"rotateInDownLeft"},{label:"rotateInDownRight",value:"rotateInDownRight"},{label:"rotateInUpLeft",value:"rotateInUpLeft"},{label:"rotateInUpRight",value:"rotateInUpRight"},{label:"---- Zoom",value:"",className:"SelectSeparator",disabled:!0},{label:"zoomIn",value:"zoomIn"},{label:"zoomInDown",value:"zoomInDown"},{label:"zoomInLeft",value:"zoomInLeft"},{label:"zoomInRight",value:"zoomInRight"},{label:"zoomInUp",value:"zoomInUp"},{label:"---- Slide",value:"",className:"SelectSeparator",disabled:!0},{label:"slideInDown",value:"slideInDown"},{label:"slideInLeft",value:"slideInLeft"},{label:"slideInRight",value:"slideInRight"},{label:"slideInUp",value:"slideInUp"}],onChange:e=>x({animationType:e})}),(0,e.jsx)(d,{label:__("Aktion beim klicken","text-domain"),selected:R,__nextHasNoMarginBottom:!0,options:[{label:__("keine Aktion","text-domain"),value:""},{label:__("Lightbox","text-domain"),value:"lightbox"},{label:__("Individuell","text-domain"),value:"individuell"}],onChange:e=>x({clickAction:e})}),(0,e.jsx)("div",{className:"lightbox"===R?"":"d-none",children:(0,e.jsx)(s,{label:__("Lightbox single","text-domain"),__nextHasNoMarginBottom:!0,checked:T,onChange:()=>x({lightboxSingle:!T})})})]}),(0,e.jsxs)(o,{initialOpen:!1,title:__("Breakpoints","text-domain"),children:[(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint XXL 1400px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Columns",value:z.xxl.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>G(e,"columns","xxl")})}),(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Gutter",value:z.xxl.gutter,__nextHasNoMarginBottom:!0,type:"number",onChange:e=>G(e,"gutter","xxl")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint XL 1200px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Columns",value:z.xl.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>G(e,"columns","xl")})}),(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Gutter",value:z.xl.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>G(e,"gutter","xl")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint LG 992px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Columns",value:z.lg.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>G(e,"columns","lg")})}),(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Gutter",value:z.lg.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>G(e,"gutter","lg")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint MD 768px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Columns",value:z.md.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>G(e,"columns","md")})}),(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Gutter",value:z.md.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>G(e,"gutter","md")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint SM 576px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Columns",value:z.sm.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>G(e,"columns","sm")})}),(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Gutter",value:z.sm.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>G(e,"gutter","sm")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint XS 450px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Columns",value:z.xs.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>G(e,"columns","xs")})}),(0,e.jsx)(p,{children:(0,e.jsx)(u,{label:"Gutter",value:z.xs.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>G(e,"gutter","xs")})})]})]})]})}),(0,e.jsxs)("div",{className:"gallery-editor",children:[(0,e.jsx)("div",{style:{margin:"0 .5rem .5rem"},children:"Theme Galerie"}),y.length>0?(0,e.jsxs)(f,{children:[(0,e.jsx)("ul",{className:"sortable-list list-unstyled row g-2",children:y.map(((a,l)=>(0,e.jsxs)("li",{className:"sortable-item col-auto","data-id":a.id,children:[(0,e.jsx)("img",{src:a.url,alt:a.alt,className:"img-fluid rounded border",style:{height:"150px",width:"205px",objectFit:"cover"}}),(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{className:"btn btn-link text-decoration-none text-danger btn-sm mt-1",onClick:()=>(e=>{const a=y.filter(((a,l)=>l!==e));x({images:a})})(l),children:"löschen"}),"individuell"===R?(0,e.jsx)("button",{className:"btn btn-link text-primary text-decoration-none btn-sm mt-1",onClick:()=>(e=>{const a=y.find((({id:a})=>a===e));a&&($({imageUrl:a.link||"",openTab:a.tab,editId:a.id}),A(!0))})(a.id),children:"Optionen"}):""]})]},a.id)))}),(0,e.jsx)("div",{className:"add-images-button",children:(0,e.jsx)(i,{onSelect:e=>{const a=[...y,...e.map((e=>({id:e.id,link:"",tab:!1,url:e?.sizes?.[N]?.url||e?.url||"",alt:e.alt||"",title:e.caption||""})))];x({images:a})},allowedTypes:["image"],multiple:!0,render:({open:a})=>(0,e.jsx)(g,{onClick:a,variant:"primary",className:"add-images-button",children:__("Bild hinzufügen","text-domain")})})})]}):(0,e.jsx)(n,{onSelect:e=>{x({images:e.map((e=>({id:e.id,link:"",tab:!1,url:e?.sizes?.[N]?.url||e?.url||"",alt:e.alt,title:e.caption||""})))})},allowedTypes:["image"],multiple:!0}),U&&(0,e.jsxs)(c,{title:"Bildoptionen",onRequestClose:()=>A(!1),children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(u,{label:"Link-Url",value:D.imageUrl,__nextHasNoMarginBottom:!0,type:"text",onChange:e=>O(e,"imageUrl")}),(0,e.jsx)("div",{style:{margin:".5rem 0"}}),(0,e.jsx)(s,{label:__("in neuem Tab öffnen","text-domain"),__nextHasNoMarginBottom:!0,checked:D.openTab,onChange:e=>O(e,"openTab")})]}),(0,e.jsx)(g,{isPrimary:!0,onClick:()=>{const e=y.map((e=>e.id===D.editId?{...e,link:D.imageUrl,tab:D.openTab}:e));x({images:e}),A(!1)},style:{marginTop:"18px"},children:"Speichern"})]})]})]})},save({attributes:a}){const{images:l,galleryId:t,galleryType:n,repeatAnimation:i,imageCrop:o,imageWidth:s,ausgabeOption:r,enableTitle:d,imageHeight:m,lazyLoadAnimation:u,lightboxSingle:g,animationType:c,clickAction:b,breakpoints:p}=a;return l.length?(0,e.jsx)("div",{id:t,className:`theme-gallery-wrapper ${"lightbox"===b?"with-lightbox":""} ${"masonry"===n?"masonry-grid":""} ${u?"gallery-animation":""}`,"data-animation-active":u,"data-animation-type":c,"data-animation-repeat":i,"data-lightbox-single":g,children:(0,e.jsx)("div",{className:`row theme-gallery row-cols-${p.xs.columns} g-${p.xs.gutter} row-cols-xxl-${p.xxl.columns} g-xxl-${p.xxl.gutter} row-cols-xl-${p.xl.columns} g-xl-${p.xl.gutter} row-cols-lg-${p.lg.columns} g-lg-${p.lg.gutter} row-cols-md-${p.md.columns} g-md-${p.md.gutter} row-cols-sm-${p.sm.columns} g-sm-${p.sm.gutter}`,children:l.map(((a,l)=>(0,e.jsx)("div",{className:"col grid-item text-center ",children:(0,e.jsxs)("div",{className:"d-inline-block image-wrapper w-100",children:[(0,e.jsx)("a",{title:d?a.title:"",target:a.tab?"_blank":"_self",href:"lightbox"===b?a.url:""!==a.link?a.link:"",className:"lightbox"===b||"individuell"===b&&""!==a.link?"cursor-pointer":"pe-none",children:(0,e.jsx)("img",{className:"img-fluid rounded lazy-image "+(u?"":"no-animate"),style:{height:"masonry"!==n||o?m+"px":"100%",maxHeight:"100%",width:"100%",objectFit:"cover"},"data-src":a.url,alt:a.alt?a.alt:a.title,title:"caption"===r?a.title:"",loading:"lazy"})}),"caption"===r?(0,e.jsxs)("div",{className:"gallery-item-caption",children:[" ",a.title]}):""]})},l)))})}):(0,e.jsxs)("div",{className:"fw-semibold",children:[(0,e.jsx)("i",{className:"bi bi-exclamation-triangle text-danger me-2"}),"keine Galerie gefunden..."]})}})})();