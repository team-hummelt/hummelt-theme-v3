(()=>{"use strict";window.wp.data;const e=window.ReactJSXRuntime,l={xxl:{columns:6,gutter:1},xl:{columns:5,gutter:1},lg:{columns:4,gutter:1},md:{columns:3,gutter:1},sm:{columns:2,gutter:1},xs:{columns:2,gutter:1}},{registerBlockType:a}=wp.blocks,{InspectorControls:t,MediaPlaceholder:n,MediaUpload:i}=wp.blockEditor,{PanelBody:o,ToggleControl:s,SelectControl:r,RadioControl:d,RangeControl:m,TextControl:u,Button:g,Modal:c,Flex:b,FlexItem:x,ResponsiveWrapper:p}=wp.components,{__}=wp.i18n,{useEffect:h,useState:v,Fragment:f}=wp.element;a("hupa/theme-gallery",{title:"Theme Galerie",icon:"images-alt2",category:"media",attributes:{images:{type:"array",default:[]},imageSize:{type:"string",default:"large"},imageWidth:{type:"number",default:260},imageHeight:{type:"number",default:160},galleryType:{type:"string",default:"gallery"},imageCrop:{type:"boolean",default:!0},lazyLoad:{type:"boolean",default:!0},lazyLoadAnimation:{type:"boolean",default:!1},repeatAnimation:{type:"boolean",default:!1},animationType:{type:"string",default:""},galleryId:{type:"string",default:""},enableLightbox:{type:"boolean",default:!1},clickAction:{type:"string",default:""},imgLink:{type:"string",default:""},lightboxSingle:{type:"boolean",default:!1},breakpoints:{type:"object",default:{xxl:{columns:6,gutter:1},xl:{columns:5,gutter:1},lg:{columns:4,gutter:1},md:{columns:3,gutter:1},sm:{columns:2,gutter:1},xs:{columns:2,gutter:1}}}},edit({attributes:a,setAttributes:p}){const{images:y,galleryId:I,galleryType:j,repeatAnimation:k,imageSize:N,imageCrop:_,lazyLoad:B,imageWidth:w,imageHeight:S,lazyLoadAnimation:C,lightboxSingle:L,animationType:M,clickAction:R,breakpoints:H}=a;if(!I){const e=`gallery-${Math.random().toString(36).slice(2,9)}`;p({galleryId:e})}const[T,z]=v(!1),U=(e,l,t)=>{const n={...a.breakpoints};n[t]={...n[t],[l]:parseInt(e)},p({breakpoints:n})};h((()=>{if(y.length>0){const e=document.querySelector(".sortable-list");e&&jQuery(e).sortable({update:(l,a)=>{const t=jQuery(e).sortable("toArray",{attribute:"data-id"}).map((e=>parseInt(e,10))).map((e=>y.find((l=>l.id===e))));p({images:t})}})}}),[y]),h((()=>{H&&0!==Object.keys(H).length||p({breakpoints:l})}),[H,p]);const[A,D]=v({imageUrl:"",openTab:!1,editId:null}),$=(e,l)=>{const a={...A};a[l]=e,D(a)};return(0,e.jsxs)(f,{children:[(0,e.jsx)(t,{children:(0,e.jsxs)("div",{className:"gallery-sidebar",children:[(0,e.jsxs)(o,{title:__("Galerie Settings","text-domain"),children:[(0,e.jsx)(r,{label:"Galerie Typ",__nextHasNoMarginBottom:!0,value:j,options:[{label:"Galerie Grid",value:"gallery"},{label:"Masonry Grid",value:"masonry"}],onChange:e=>p({galleryType:e})}),(0,e.jsx)(r,{label:"Image Size",__nextHasNoMarginBottom:!0,value:N,options:[{label:"Thumbnail",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full",value:"full"}],onChange:e=>p({imageSize:e})}),(0,e.jsx)(s,{label:"Image Crop",__nextHasNoMarginBottom:!0,checked:_,onChange:e=>p({imageCrop:e})}),(0,e.jsx)(s,{label:"Lazy load animation",__nextHasNoMarginBottom:!0,checked:C,onChange:e=>p({lazyLoadAnimation:e})}),(0,e.jsx)(s,{label:"Animation wiederholen",__nextHasNoMarginBottom:!0,disabled:!C,checked:k,onChange:e=>p({repeatAnimation:e})}),(0,e.jsx)(m,{label:"Image Height (px)",__nextHasNoMarginBottom:!0,value:S,disabled:!_&&"gallery"!==j,onChange:e=>p({imageHeight:e}),min:50,max:500,step:10}),(0,e.jsx)("p",{className:`fw-normal panel-headline animate__animated animate__${M}`,children:__("Animate options","bootscore")}),(0,e.jsx)(r,{label:__("Select animation","bootscore"),value:M,disabled:!C,__nextHasNoMarginBottom:!0,options:[{label:__("select","bootscore")+"...",value:""},{label:"bounce",value:"bounce"},{label:"flash",value:"flash"},{label:"pulse",value:"pulse"},{label:"rubberBand",value:"rubberBand"},{label:"shakeX",value:"shakeX"},{label:"headShake",value:"headShake"},{label:"swing",value:"swing"},{label:"tada",value:"tada"},{label:"wobble",value:"wobble"},{label:"jello",value:"jello"},{label:"heartBeat",value:"heartBeat"},{label:"---- BackIn",value:"",className:"SelectSeparator",disabled:!0},{label:"backInDown",value:"backInDown"},{label:"backInLeft",value:"backInLeft"},{label:"backInRight",value:"backInRight"},{label:"backInUp",value:"backInUp"},{label:"---- Bounce",value:"",className:"SelectSeparator",disabled:!0},{label:"bounceIn",value:"bounceIn"},{label:"bounceInDown",value:"bounceInDown"},{label:"bounceInLeft",value:"bounceInLeft"},{label:"bounceInRight",value:"bounceInRight"},{label:"bounceInUp",value:"bounceInUp"},{label:"---- Fade",value:"",className:"SelectSeparator",disabled:!0},{label:"fadeIn",value:"fadeIn"},{label:"fadeInDown",value:"fadeInDown"},{label:"fadeInDownBig",value:"fadeInDownBig"},{label:"fadeInLeft",value:"fadeInLeft"},{label:"fadeInLeftBig",value:"fadeInLeftBig"},{label:"fadeInRight",value:"fadeInRight"},{label:"fadeInRightBig",value:"fadeInRightBig"},{label:"fadeInUp",value:"fadeInUp"},{label:"fadeInUpBig",value:"fadeInUpBig"},{label:"fadeInTopLeft",value:"fadeInTopLeft"},{label:"fadeInTopRight",value:"fadeInTopRight"},{label:"fadeInBottomLeft",value:"fadeInBottomLeft"},{label:"fadeInBottomRight",value:"fadeInBottomRight"},{label:"---- Flip",value:"",className:"SelectSeparator",disabled:!0},{label:"flip",value:"flip"},{label:"flipInX",value:"flipInX"},{label:"flipInY",value:"flipInY"},{label:"flipOutX",value:"flipOutX"},{label:"flipOutY",value:"flipOutY"},{label:"---- Light Speed",value:"",className:"SelectSeparator",disabled:!0},{label:"lightSpeedInRight",value:"lightSpeedInRight"},{label:"lightSpeedInLeft",value:"lightSpeedInLeft"},{label:"lightSpeedOutRight",value:"lightSpeedOutRight"},{label:"lightSpeedOutLeft",value:"lightSpeedOutLeft"},{label:"---- Rotate",value:"",className:"SelectSeparator",disabled:!0},{label:"rotateIn",value:"rotateIn"},{label:"rotateInDownLeft",value:"rotateInDownLeft"},{label:"rotateInDownRight",value:"rotateInDownRight"},{label:"rotateInUpLeft",value:"rotateInUpLeft"},{label:"rotateInUpRight",value:"rotateInUpRight"},{label:"---- Zoom",value:"",className:"SelectSeparator",disabled:!0},{label:"zoomIn",value:"zoomIn"},{label:"zoomInDown",value:"zoomInDown"},{label:"zoomInLeft",value:"zoomInLeft"},{label:"zoomInRight",value:"zoomInRight"},{label:"zoomInUp",value:"zoomInUp"},{label:"---- Slide",value:"",className:"SelectSeparator",disabled:!0},{label:"slideInDown",value:"slideInDown"},{label:"slideInLeft",value:"slideInLeft"},{label:"slideInRight",value:"slideInRight"},{label:"slideInUp",value:"slideInUp"}],onChange:e=>p({animationType:e})}),(0,e.jsx)(d,{label:__("Aktion beim klicken","text-domain"),selected:R,__nextHasNoMarginBottom:!0,options:[{label:__("keine Aktion","text-domain"),value:""},{label:__("Lightbox","text-domain"),value:"lightbox"},{label:__("Individuell","text-domain"),value:"individuell"}],onChange:e=>p({clickAction:e})}),(0,e.jsx)("div",{className:"lightbox"===R?"":"d-none",children:(0,e.jsx)(s,{label:__("Lightbox single","text-domain"),__nextHasNoMarginBottom:!0,checked:L,onChange:()=>p({lightboxSingle:!L})})})]}),(0,e.jsxs)(o,{initialOpen:!1,title:__("Breakpoints","text-domain"),children:[(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint XXL 1400px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Columns",value:H.xxl.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>U(e,"columns","xxl")})}),(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Gutter",value:H.xxl.gutter,__nextHasNoMarginBottom:!0,type:"number",onChange:e=>U(e,"gutter","xxl")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint XL 1200px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Columns",value:H.xl.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>U(e,"columns","xl")})}),(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Gutter",value:H.xl.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>U(e,"gutter","xl")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint LG 992px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Columns",value:H.lg.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>U(e,"columns","lg")})}),(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Gutter",value:H.lg.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>U(e,"gutter","lg")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint MD 768px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Columns",value:H.md.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>U(e,"columns","md")})}),(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Gutter",value:H.md.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>U(e,"gutter","md")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint SM 576px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Columns",value:H.sm.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>U(e,"columns","sm")})}),(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Gutter",value:H.sm.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>U(e,"gutter","sm")})})]}),(0,e.jsx)("div",{className:"breakpoint-headline",children:"Breakpoint XS 450px"}),(0,e.jsxs)(b,{gap:2,align:"center",justify:"center",children:[(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Columns",value:H.xs.columns,__nextHasNoMarginBottom:!0,min:1,max:6,type:"number",onChange:e=>U(e,"columns","xs")})}),(0,e.jsx)(x,{children:(0,e.jsx)(u,{label:"Gutter",value:H.xs.gutter,__nextHasNoMarginBottom:!0,min:1,max:5,type:"number",onChange:e=>U(e,"gutter","xs")})})]})]})]})}),(0,e.jsxs)("div",{className:"gallery-editor",children:[(0,e.jsx)("div",{style:{margin:"0 .5rem .5rem"},children:"Theme Galerie"}),y.length>0?(0,e.jsxs)(f,{children:[(0,e.jsx)("ul",{className:"sortable-list list-unstyled row g-2",children:y.map(((l,a)=>(0,e.jsxs)("li",{className:"sortable-item col-auto","data-id":l.id,children:[(0,e.jsx)("img",{src:l.url,alt:l.alt,className:"img-fluid rounded border",style:{height:"150px",width:"205px",objectFit:"cover"}}),(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{className:"btn btn-link text-decoration-none text-danger btn-sm mt-1",onClick:()=>(e=>{const l=y.filter(((l,a)=>a!==e));p({images:l})})(a),children:"löschen"}),"individuell"===R?(0,e.jsx)("button",{className:"btn btn-link text-primary text-decoration-none btn-sm mt-1",onClick:()=>(e=>{const l=y.find((({id:l})=>l===e));l&&(D({imageUrl:l.link||"",openTab:l.tab,editId:l.id}),z(!0))})(l.id),children:"Optionen"}):""]})]},l.id)))}),(0,e.jsx)("div",{className:"add-images-button",children:(0,e.jsx)(i,{onSelect:e=>{const l=[...y,...e.map((e=>({id:e.id,link:"",tab:!1,url:e?.sizes?.[N]?.url||e?.url||"",alt:e.alt||"",title:e.caption||""})))];p({images:l})},allowedTypes:["image"],multiple:!0,render:({open:l})=>(0,e.jsx)(g,{onClick:l,variant:"primary",className:"add-images-button",children:__("Bild hinzufügen","text-domain")})})})]}):(0,e.jsx)(n,{onSelect:e=>{p({images:e.map((e=>({id:e.id,link:"",tab:!1,url:e?.sizes?.[N]?.url||e?.url||"",alt:e.alt,title:e.caption||""})))})},allowedTypes:["image"],multiple:!0}),T&&(0,e.jsxs)(c,{title:"Bildoptionen",onRequestClose:()=>z(!1),children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(u,{label:"Link-Url",value:A.imageUrl,__nextHasNoMarginBottom:!0,type:"text",onChange:e=>$(e,"imageUrl")}),(0,e.jsx)("div",{style:{margin:".5rem 0"}}),(0,e.jsx)(s,{label:__("in neuem Tab öffnen","text-domain"),__nextHasNoMarginBottom:!0,checked:A.openTab,onChange:e=>$(e,"openTab")})]}),(0,e.jsx)(g,{isPrimary:!0,onClick:()=>{const e=y.map((e=>e.id===A.editId?{...e,link:A.imageUrl,tab:A.openTab}:e));p({images:e}),z(!1)},style:{marginTop:"18px"},children:"Speichern"})]})]})]})},save({attributes:l}){const{images:a,galleryId:t,galleryType:n,repeatAnimation:i,imageCrop:o,imageWidth:s,imageHeight:r,lazyLoadAnimation:d,lightboxSingle:m,animationType:u,clickAction:g,breakpoints:c}=l;return a.length?(0,e.jsx)("div",{id:t,className:`theme-gallery-wrapper ${"lightbox"===g?"with-lightbox":""} ${"masonry"===n?"masonry-grid":""} ${d?"gallery-animation":""}`,"data-animation-active":d,"data-animation-type":u,"data-animation-repeat":i,"data-lightbox-single":m,children:(0,e.jsx)("div",{className:`row theme-gallery row-cols-${c.xs.columns} g-${c.xs.gutter} row-cols-xxl-${c.xxl.columns} g-xxl-${c.xxl.gutter} row-cols-xl-${c.xl.columns} g-xl-${c.xl.gutter} row-cols-lg-${c.lg.columns} g-lg-${c.lg.gutter} row-cols-md-${c.md.columns} g-md-${c.md.gutter} row-cols-sm-${c.sm.columns} g-sm-${c.sm.gutter}`,children:a.map(((l,a)=>(0,e.jsx)("div",{className:"col grid-item text-center ",children:(0,e.jsx)("div",{className:"d-inline-block image-wrapper w-100",children:(0,e.jsx)("a",{target:l.tab?"_blank":"_self",href:"lightbox"===g?l.url:""!==l.link?l.link:"",className:"lightbox"===g||"individuell"===g&&""!==l.link?"cursor-pointer":"pe-none",children:(0,e.jsx)("img",{className:"img-fluid rounded lazy-image "+(d?"":"no-animate"),style:{height:"masonry"!==n||o?r+"px":"100%",maxHeight:"100%",width:"100%",objectFit:"cover"},"data-src":l.url,alt:l.alt,title:l.caption,loading:"lazy"})})})},a)))})}):(0,e.jsxs)("div",{className:"fw-semibold",children:[(0,e.jsx)("i",{className:"bi bi-exclamation-triangle text-danger me-2"}),"keine Galerie gefunden..."]})}})})();