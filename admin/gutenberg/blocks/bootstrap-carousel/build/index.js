(()=>{"use strict";var e,a={592:()=>{window.wp.data;const e=window.ReactJSXRuntime,{registerBlockType:a}=wp.blocks,{useBlockProps:s,InspectorControls:t,MediaUpload:l,RichText:i,MediaUploadCheck:r}=wp.blockEditor,{PanelBody:o,ToggleControl:n,SelectControl:c,RangeControl:d,Button:u}=wp.components,{Fragment:h,useEffect:m}=wp.element;a("hupa/bootstrap-carousel-block",{title:"Bootstrap Carousel",icon:"images-alt2",category:"media",attributes:{isLoaded:{type:"boolean",default:!1},postId:{type:"number"},carouselId:{type:"string"},images:{type:"array",default:[]},captions:{type:"array",default:[]},headings:{type:"array",default:[]},autoSlide:{type:"boolean",default:!0},interval:{type:"number",default:5e3},height:{type:"number",default:500},imageSize:{type:"string",default:"full"},pauseOnHover:{type:"string",default:"hover"},touch:{type:"boolean",default:!0}},edit({attributes:a,setAttributes:p}){const{carouselId:g,images:v,captions:b,headings:x,autoSlide:j,interval:N,height:y,imageSize:f,pauseOnHover:_,touch:C}=a;if(!g){const e=`carousel-${Math.random().toString(36).slice(2,9)}`;p({carouselId:e})}m((()=>{(()=>{const e=v.filter((e=>e&&e.id&&e.url)),a=b.slice(0,e.length),s=x.slice(0,e.length);p({images:e,captions:a,headings:s})})()}),[]);const S=s({className:"custom-border-editor",style:{height:`${y+130}px`}});return(0,e.jsxs)(h,{children:[(0,e.jsx)(t,{children:(0,e.jsxs)(o,{title:"Carousel Settings",initialOpen:!0,children:[(0,e.jsx)(n,{label:"Auto Slide",__nextHasNoMarginBottom:!0,checked:j,onChange:e=>p({autoSlide:e})}),(0,e.jsx)(n,{label:"Enable Touch Swipe",__nextHasNoMarginBottom:!0,checked:C,onChange:e=>p({touch:e})}),(0,e.jsx)(d,{label:"Slide Interval (ms)",__nextHasNoMarginBottom:!0,value:N,onChange:e=>p({interval:e}),min:1e3,max:3e4,step:500}),(0,e.jsx)(d,{label:"Carousel Height (px)",__nextHasNoMarginBottom:!0,value:y,onChange:e=>p({height:e}),min:200,max:1e3,step:50}),(0,e.jsx)(c,{label:"Image Size",__nextHasNoMarginBottom:!0,value:f,options:[{label:"Thumbnail",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full",value:"full"}],onChange:e=>{return a=e,v.map(((e,s)=>{e.id&&wp.apiFetch({path:`/wp/v2/media/${e.id}`,method:"GET"}).then((t=>{if(t&&t.media_details){let l=t.media_details,i=t.source_url;switch(a){case"thumbnail":l.sizes&&l.sizes.thumbnail&&(i=l.sizes.thumbnail.source_url);break;case"medium":l.sizes&&l.sizes.medium&&(i=l.sizes.medium.source_url);break;case"large":l.sizes&&l.sizes.medium_large&&(i=l.sizes.medium_large.source_url);break;default:i=t.source_url}e.url=i,t.alt,t.id,v[s].url=i}}))})),void p({images:v,imageSize:a});var a}}),(0,e.jsx)(c,{label:"Pause on Hover",__nextHasNoMarginBottom:!0,value:_,options:[{label:"Hover (default)",value:"hover"},{label:"No Pause",value:"false"}],onChange:e=>p({pauseOnHover:e})})]})}),(0,e.jsxs)("div",{...S,children:[(0,e.jsxs)("div",{className:"carousel slide",id:g,"data-bs-ride":j?"carousel":"","data-bs-interval":N,"data-bs-pause":_,"data-bs-touch":C,children:[(0,e.jsx)("div",{className:"carousel-indicators "+(v.length<2?"d-none":""),children:v.map(((a,s)=>(0,e.jsx)("button",{type:"button",style:{backgroundColor:"#292727"},"data-bs-target":`#${g}`,"data-bs-slide-to":s,className:0===s?"active":"","aria-label":`Slide ${s+1}`},s)))}),(0,e.jsx)("div",{className:"carousel-inner",children:v.map(((a,s)=>(0,e.jsxs)("div",{className:"carousel-item "+(0===s?"active":""),children:[(0,e.jsx)("img",{src:a.url,alt:a.alt||"",className:"d-block w-100",style:{height:`${y}px`,objectFit:"cover"}}),(0,e.jsx)("div",{className:"carousel-caption",children:(0,e.jsxs)("div",{className:"caption-container",children:[(0,e.jsx)(i,{tagName:"h5",placeholder:"Enter heading here...",value:x[s],onChange:e=>((e,a)=>{const s=[...x];s[e]=a,p({headings:s})})(s,e)}),(0,e.jsx)(i,{tagName:"p",placeholder:"Enter caption here...",value:b[s],onChange:e=>((e,a)=>{const s=[...b];s[e]=a,p({captions:s})})(s,e)})]})}),(0,e.jsx)(u,{isDestructive:!0,onClick:()=>(e=>{const a=v.filter(((a,s)=>s!==e)),s=b.filter(((a,s)=>s!==e)),t=x.filter(((a,s)=>s!==e));if(p({images:a,captions:s,headings:t}),a.length>0){const e=document.querySelector(".carousel-inner"),a=document.querySelector(".carousel-indicators");if(e&&a){const s=e.querySelectorAll(".carousel-item"),t=a.querySelectorAll("button");s.forEach(((e,a)=>{0===a?e.classList.add("active"):e.classList.remove("active")})),t.forEach(((e,a)=>{0===a?e.classList.add("active"):e.classList.remove("active")}))}}})(s),className:"editor-controls",children:"Entfernen"})]},a.id)))}),v.length>1?(0,e.jsxs)(h,{children:[(0,e.jsxs)("button",{style:{height:`${y}px`},className:"carousel-control-prev",type:"button","data-bs-target":`#${g}`,"data-bs-slide":"prev",children:[(0,e.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,e.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,e.jsxs)("button",{style:{height:`${y}px`},className:"carousel-control-next",type:"button","data-bs-target":`#${g}`,"data-bs-slide":"next",children:[(0,e.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,e.jsx)("span",{className:"visually-hidden",children:"Next"})]})]}):""]}),(0,e.jsx)("div",{className:"editor-controls",children:(0,e.jsx)(r,{children:(0,e.jsx)(l,{onSelect:e=>{if(!e||!e.id||!e.url)return void console.error("Ungültiges Bild:",e);const a={id:e.id,url:e.sizes?.[f]?.url||e.url,alt:e.alt||""};p({images:[...v,a],captions:[...b,""],headings:[...x,""]})},allowedTypes:["image"],render:({open:a})=>(0,e.jsx)(u,{isPrimary:!0,onClick:a,children:"Bild hinzufügen"})})})})]})]})},save({attributes:a}){const{carouselId:s,images:t,captions:l,headings:r,autoSlide:o,interval:n,height:c,pauseOnHover:d,touch:u,postId:m}=a;return(0,e.jsxs)("div",{style:{height:`${c}px`},className:"position-relative",children:[(0,e.jsx)("div",{className:"image-loader-dot-wrapper",children:(0,e.jsx)("div",{className:"dot-spin"})}),(0,e.jsxs)("div",{className:"carousel slide",id:s,"data-bs-ride":o?"carousel":"false","data-bs-interval":n,"data-post-id":m,"data-bs-pause":d,"data-bs-touch":u,style:{height:`${c}px`},children:[t.length>1?(0,e.jsx)("div",{className:"carousel-indicators",children:t.map(((a,t)=>(0,e.jsx)("button",{type:"button","data-bs-target":`#${s}`,"data-bs-slide-to":t,className:0===t?"active":"","aria-label":`Slide ${t+1}`},t)))}):"",(0,e.jsx)("div",{className:"carousel-inner",children:t.map(((a,s)=>(0,e.jsxs)("div",{className:"carousel-item "+(0===s?"active":""),children:[(0,e.jsx)("img",{src:a.url,alt:a.alt||"",className:"d-block w-100",style:{height:`${c}px`,objectFit:"cover"}}),(0,e.jsx)("div",{className:"carousel-caption",children:(0,e.jsxs)("div",{className:"caption-container",children:[r[s]&&(0,e.jsx)(i.Content,{tagName:"h5",value:r[s]}),l[s]&&(0,e.jsx)(i.Content,{tagName:"p",value:l[s]})]})})]},a.id)))}),t.length>1?(0,e.jsxs)(h,{children:[(0,e.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#${s}`,"data-bs-slide":"prev",children:[(0,e.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,e.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,e.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":`#${s}`,"data-bs-slide":"next",children:[(0,e.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,e.jsx)("span",{className:"visually-hidden",children:"Next"})]})]}):""]})]})}})}},s={};function t(e){var l=s[e];if(void 0!==l)return l.exports;var i=s[e]={exports:{}};return a[e](i,i.exports,t),i.exports}t.m=a,e=[],t.O=(a,s,l,i)=>{if(!s){var r=1/0;for(d=0;d<e.length;d++){for(var[s,l,i]=e[d],o=!0,n=0;n<s.length;n++)(!1&i||r>=i)&&Object.keys(t.O).every((e=>t.O[e](s[n])))?s.splice(n--,1):(o=!1,i<r&&(r=i));if(o){e.splice(d--,1);var c=l();void 0!==c&&(a=c)}}return a}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,l,i]},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var l,i,[r,o,n]=s,c=0;if(r.some((a=>0!==e[a]))){for(l in o)t.o(o,l)&&(t.m[l]=o[l]);if(n)var d=n(t)}for(a&&a(s);c<r.length;c++)i=r[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},s=globalThis.webpackChunktheme_google_maps=globalThis.webpackChunktheme_google_maps||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var l=t.O(void 0,[350],(()=>t(592)));l=t.O(l)})();