(()=>{"use strict";var e,a={5:()=>{const e=window.React,{registerBlockType:a}=(window.wp.data,wp.blocks),{useBlockProps:t,InspectorControls:l,MediaUpload:s,RichText:r,MediaUploadCheck:n}=wp.blockEditor,{PanelBody:o,ToggleControl:i,SelectControl:c,RangeControl:u,Button:d}=wp.components,{Fragment:m,useEffect:p}=wp.element;a("hupa/bootstrap-carousel-block",{title:"Bootstrap Carousel",icon:"images-alt2",category:"theme-v3-medien",description:"A slideshow component for cycling through elements—images or slides of text",attributes:{isLoaded:{type:"boolean",default:!1},postId:{type:"number"},carouselId:{type:"string"},images:{type:"array",default:[]},captions:{type:"array",default:[]},headings:{type:"array",default:[]},autoSlide:{type:"boolean",default:!0},interval:{type:"number",default:5e3},height:{type:"number",default:500},imageSize:{type:"string",default:"full"},pauseOnHover:{type:"string",default:"hover"},touch:{type:"boolean",default:!0}},edit({attributes:a,setAttributes:h}){const{carouselId:g,images:v,captions:b,headings:E,autoSlide:y,interval:N,height:f,imageSize:x,pauseOnHover:k,touch:C}=a;if(!g){const e=`carousel-${Math.random().toString(36).slice(2,9)}`;h({carouselId:e})}p((()=>{(()=>{const e=v.filter((e=>e&&e.id&&e.url)),a=b.slice(0,e.length),t=E.slice(0,e.length);h({images:e,captions:a,headings:t})})()}),[]);const _=t({className:"custom-border-editor",style:{height:`${f+130}px`}});return(0,e.createElement)(m,null,(0,e.createElement)(l,null,(0,e.createElement)(o,{title:"Carousel Settings",initialOpen:!0},(0,e.createElement)(i,{label:"Auto Slide",__nextHasNoMarginBottom:!0,checked:y,onChange:e=>h({autoSlide:e})}),(0,e.createElement)(i,{label:"Enable Touch Swipe",__nextHasNoMarginBottom:!0,checked:C,onChange:e=>h({touch:e})}),(0,e.createElement)(u,{label:"Slide Interval (ms)",__nextHasNoMarginBottom:!0,value:N,onChange:e=>h({interval:e}),min:1e3,max:3e4,step:500}),(0,e.createElement)(u,{label:"Carousel Height (px)",__nextHasNoMarginBottom:!0,value:f,onChange:e=>h({height:e}),min:200,max:1e3,step:50}),(0,e.createElement)(c,{label:"Image Size",__nextHasNoMarginBottom:!0,value:x,options:[{label:"Thumbnail",value:"thumbnail"},{label:"Medium",value:"medium"},{label:"Large",value:"large"},{label:"Full",value:"full"}],onChange:e=>{return a=e,v.map(((e,t)=>{e.id&&wp.apiFetch({path:`/wp/v2/media/${e.id}`,method:"GET"}).then((l=>{if(l&&l.media_details){let s=l.media_details,r=l.source_url;switch(a){case"thumbnail":s.sizes&&s.sizes.thumbnail&&(r=s.sizes.thumbnail.source_url);break;case"medium":s.sizes&&s.sizes.medium&&(r=s.sizes.medium.source_url);break;case"large":s.sizes&&s.sizes.medium_large&&(r=s.sizes.medium_large.source_url);break;default:r=l.source_url}e.url=r,l.alt,l.id,v[t].url=r}}))})),void h({images:v,imageSize:a});var a}}),(0,e.createElement)(c,{label:"Pause on Hover",__nextHasNoMarginBottom:!0,value:k,options:[{label:"Hover (default)",value:"hover"},{label:"No Pause",value:"false"}],onChange:e=>h({pauseOnHover:e})}))),(0,e.createElement)("div",{..._},(0,e.createElement)("div",{className:"carousel slide",id:g,"data-bs-ride":y?"carousel":"","data-bs-interval":N,"data-bs-pause":k,"data-bs-touch":C},(0,e.createElement)("div",{className:"carousel-indicators "+(v.length<2?"d-none":"")},v.map(((a,t)=>(0,e.createElement)("button",{key:t,type:"button",style:{backgroundColor:"#292727"},"data-bs-target":`#${g}`,"data-bs-slide-to":t,className:0===t?"active":"","aria-label":`Slide ${t+1}`})))),(0,e.createElement)("div",{className:"carousel-inner"},v.map(((a,t)=>(0,e.createElement)("div",{key:a.id,className:"carousel-item "+(0===t?"active":"")},(0,e.createElement)("img",{src:a.url,alt:a.alt||"",className:"d-block w-100",style:{height:`${f}px`,objectFit:"cover"}}),(0,e.createElement)("div",{className:"carousel-caption"},(0,e.createElement)("div",{className:"caption-container"},(0,e.createElement)(r,{tagName:"h5",placeholder:"Enter heading here...",value:E[t],onChange:e=>((e,a)=>{const t=[...E];t[e]=a,h({headings:t})})(t,e)}),(0,e.createElement)(r,{tagName:"p",placeholder:"Enter caption here...",value:b[t],onChange:e=>((e,a)=>{const t=[...b];t[e]=a,h({captions:t})})(t,e)}))),(0,e.createElement)(d,{isDestructive:!0,onClick:()=>(e=>{const a=v.filter(((a,t)=>t!==e)),t=b.filter(((a,t)=>t!==e)),l=E.filter(((a,t)=>t!==e));if(h({images:a,captions:t,headings:l}),a.length>0){const e=document.querySelector(".carousel-inner"),a=document.querySelector(".carousel-indicators");if(e&&a){const t=e.querySelectorAll(".carousel-item"),l=a.querySelectorAll("button");t.forEach(((e,a)=>{0===a?e.classList.add("active"):e.classList.remove("active")})),l.forEach(((e,a)=>{0===a?e.classList.add("active"):e.classList.remove("active")}))}}})(t),className:"editor-controls"},"Entfernen"))))),v.length>1?(0,e.createElement)(m,null,(0,e.createElement)("button",{style:{height:`${f}px`},className:"carousel-control-prev",type:"button","data-bs-target":`#${g}`,"data-bs-slide":"prev"},(0,e.createElement)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,e.createElement)("span",{className:"visually-hidden"},"Previous")),(0,e.createElement)("button",{style:{height:`${f}px`},className:"carousel-control-next",type:"button","data-bs-target":`#${g}`,"data-bs-slide":"next"},(0,e.createElement)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,e.createElement)("span",{className:"visually-hidden"},"Next"))):""),(0,e.createElement)("div",{className:"editor-controls"},(0,e.createElement)(n,null,(0,e.createElement)(s,{onSelect:e=>{if(!e||!e.id||!e.url)return void console.error("Ungültiges Bild:",e);const a={id:e.id,url:e.sizes?.[x]?.url||e.url,alt:e.alt||""};h({images:[...v,a],captions:[...b,""],headings:[...E,""]})},allowedTypes:["image"],render:({open:a})=>(0,e.createElement)(d,{isPrimary:!0,onClick:a},"Bild hinzufügen")})))))},save({attributes:a}){const{carouselId:t,images:l,captions:s,headings:n,autoSlide:o,interval:i,height:c,pauseOnHover:u,touch:d,postId:p}=a;return(0,e.createElement)("div",{style:{height:`${c}px`},className:"position-relative"},(0,e.createElement)("div",{className:"image-loader-dot-wrapper"},(0,e.createElement)("div",{className:"dot-spin"})),(0,e.createElement)("div",{className:"carousel slide",id:t,"data-bs-ride":o?"carousel":"false","data-bs-interval":i,"data-post-id":p,"data-bs-pause":u,"data-bs-touch":d,style:{height:`${c}px`}},l.length>1?(0,e.createElement)("div",{className:"carousel-indicators"},l.map(((a,l)=>(0,e.createElement)("button",{key:l,type:"button","data-bs-target":`#${t}`,"data-bs-slide-to":l,className:0===l?"active":"","aria-label":`Slide ${l+1}`})))):"",(0,e.createElement)("div",{className:"carousel-inner"},l.map(((a,t)=>(0,e.createElement)("div",{key:a.id,className:"carousel-item "+(0===t?"active":"")},(0,e.createElement)("img",{src:a.url,alt:a.alt||"",className:"d-block w-100",style:{height:`${c}px`,objectFit:"cover"}}),(0,e.createElement)("div",{className:"carousel-caption"},(0,e.createElement)("div",{className:"caption-container"},n[t]&&(0,e.createElement)(r.Content,{tagName:"h5",value:n[t]}),s[t]&&(0,e.createElement)(r.Content,{tagName:"p",value:s[t]}))))))),l.length>1?(0,e.createElement)(m,null,(0,e.createElement)("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#${t}`,"data-bs-slide":"prev"},(0,e.createElement)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,e.createElement)("span",{className:"visually-hidden"},"Previous")),(0,e.createElement)("button",{className:"carousel-control-next",type:"button","data-bs-target":`#${t}`,"data-bs-slide":"next"},(0,e.createElement)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,e.createElement)("span",{className:"visually-hidden"},"Next"))):""))}})}},t={};function l(e){var s=t[e];if(void 0!==s)return s.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=(a,t,s,r)=>{if(!t){var n=1/0;for(u=0;u<e.length;u++){for(var[t,s,r]=e[u],o=!0,i=0;i<t.length;i++)(!1&r||n>=r)&&Object.keys(l.O).every((e=>l.O[e](t[i])))?t.splice(i--,1):(o=!1,r<n&&(n=r));if(o){e.splice(u--,1);var c=s();void 0!==c&&(a=c)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[t,s,r]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var s,r,[n,o,i]=t,c=0;if(n.some((a=>0!==e[a]))){for(s in o)l.o(o,s)&&(l.m[s]=o[s]);if(i)var u=i(l)}for(a&&a(t);c<n.length;c++)r=n[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(u)},t=globalThis.webpackChunkreact_make=globalThis.webpackChunkreact_make||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var s=l.O(void 0,[350],(()=>l(5)));s=l.O(s)})();