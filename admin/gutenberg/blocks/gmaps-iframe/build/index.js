(()=>{"use strict";const e=window.ReactJSXRuntime,{registerBlockType:t}=wp.blocks,{InspectorControls:s}=wp.blockEditor,{PanelBody:a,TextControl:n,TextareaControl:o,SelectControl:i}=wp.components,{Component:r,Fragment:l}=wp.element,{__}=wp.i18n;t("hupa/google-maps-iframe",{title:"Google Maps Iframe",icon:()=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"currentColor",className:"bi bi-pin-map",viewBox:"0 0 16 16",children:[(0,e.jsx)("path",{fillRule:"evenodd",d:"M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8z"}),(0,e.jsx)("path",{fillRule:"evenodd",d:"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"})]}),category:"media",attributes:{datenschutz:{type:"string",default:""},iframeUrl:{type:"string",default:""},iframeWidth:{type:"number",default:600},iframeHeight:{type:"number",default:450}},edit:class extends r{constructor(e){super(...arguments),this.props=e,this.state={datenschutzSelects:[]}}componentDidMount(){this.sendFetchApi({method:"get_maps_items"})}onUrlChange=e=>{const t=/^https:\/\/www\.google\.com\/maps\/embed\?pb=.+/.test(s=e)?s:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2450.4133799679653!2d11.630649376907613!3d52.10860696660599!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47a5f5e71849d0db%3A0xdf90cecb1e65843b!2shummelt%20und%20partner%20%7C%20Werbeagentur%20GmbH!5e0!3m2!1sde!2sde!4v1734431038321!5m2!1sde!2sde";var s;this.props.setAttributes({iframeUrl:t})};onWidthChange=e=>{this.props.setAttributes({iframeWidth:e})};onHeightChange=e=>{this.props.setAttributes({iframeHeight:e})};onChangeDatenschutz=e=>{this.props.setAttributes({datenschutz:e})};sendFetchApi(e,t=hummeltRestEditorObj.gutenberg_rest_path+"settings"){wp.apiFetch({path:t,method:"POST",data:e}).then((e=>{"get_maps_items"===e.type&&e.status&&this.setState({datenschutzSelects:e.datenschutz_selects})})).catch((e=>{"rest_permission_error"!==e.code&&"rest_failed"!==e.code||console.log(e.message)}))}render(){const{attributes:{datenschutz:t,iframeUrl:r,iframeWidth:h,iframeHeight:m}}=this.props;return(0,e.jsxs)(l,{children:[(0,e.jsx)(s,{children:(0,e.jsxs)(a,{title:"Einstellungen",children:[(0,e.jsx)(i,{label:__("Select Datenschutz","bootscore"),value:t,options:this.state.datenschutzSelects,__nextHasNoMarginBottom:!0,onChange:this.onChangeDatenschutz}),(0,e.jsx)(o,{label:"Iframe URL",value:r,rows:8,__nextHasNoMarginBottom:!0,onChange:this.onUrlChange}),(0,e.jsx)(n,{label:"Breite (px)",value:h,__nextHasNoMarginBottom:!0,type:"number",onChange:this.onWidthChange}),(0,e.jsx)(n,{label:"HÃ¶he (px)",value:m,__nextHasNoMarginBottom:!0,type:"number",onChange:this.onHeightChange})]})}),(0,e.jsx)("div",{className:"google-maps-iframe-wrapper",children:(0,e.jsx)("iframe",{src:r,width:h,height:m,className:"google-maps-iframe",allowFullScreen:!0})})]})}},save:()=>null})})();