(()=>{"use strict";const e=window.React,{registerBlockType:t}=wp.blocks,{InspectorControls:o}=wp.blockEditor,{PanelBody:r,TextControl:s,TextareaControl:n,SelectControl:l}=wp.components,{Component:a,Fragment:m}=wp.element,{__}=wp.i18n;t("hupa/theme-formular",{title:"Formular",icon:()=>(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",fill:"currentColor",className:"bi bi-envelope",viewBox:"0 0 16 16"},(0,e.createElement)("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"})),category:"theme-v3-addons",description:"Formular mit SMTP und unzähligen Anpassungsmöglichkeiten.",attributes:{formular:{type:"string",value:""}},edit:class extends a{constructor(e){super(...arguments),this.props=e,this.state={formSelects:[]}}componentDidMount(){this.sendFetchApi({method:"get_theme_forms"})}onFormsChange=e=>{this.props.setAttributes({formular:e})};sendFetchApi(e,t=hummeltRestEditorObj.gutenberg_rest_path+"settings"){wp.apiFetch({path:t,method:"POST",data:e}).then((e=>{"get_theme_forms"===e.type&&e.status&&this.setState({formSelects:e.form_selects})})).catch((e=>{"rest_permission_error"!==e.code&&"rest_failed"!==e.code||console.log(e.message)}))}render(){const{attributes:{formular:t}}=this.props;return(0,e.createElement)(m,null,(0,e.createElement)(o,null,(0,e.createElement)(r,{title:"Einstellungen"},(0,e.createElement)(l,{label:__("Select Formular","bootscore"),value:t,options:this.state.formSelects,__nextHasNoMarginBottom:!0,onChange:this.onFormsChange}))),(0,e.createElement)("div",{className:"theme-formular-wrapper"},(0,e.createElement)("div",{className:"theme-form-inner"},(0,e.createElement)("h5",null,"Theme Formular"),(0,e.createElement)("hr",null),(0,e.createElement)(l,{className:"form-custom-select",label:__("Select Formular","bootscore"),value:t,options:this.state.formSelects,__nextHasNoMarginBottom:!0,onChange:this.onFormsChange}))))}},save:()=>null})})();